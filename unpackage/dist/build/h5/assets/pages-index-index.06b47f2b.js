import{r as e,a as s,o as a,g as l,b as t,u as o,c as n,d as c,e as i,w as u,i as r,f as d,h as p,j as f,k as m,F as g,l as v,m as _,n as x,p as h,q as b,s as y,S as k,I as w,t as S,v as z,x as A}from"./index.46827778.js";const O=((e,s)=>{const a=e.__vccOpts||e;for(const[l,t]of s)a[l]=t;return a})({__name:"index",setup(O){let V=e([{isSelf:!0,text:"你好，欢迎来到AI世界，我可以解答你的问题，也可以陪你聊天",image:"../../static/sgzn.png"}]),q=s(""),B=s(""),I=s(0);s(0);let U=s(!0),j=s(!0),C=s(!1);a((()=>{switch(console.log("onBeforeMount生命周期"),l().platform){case"android":console.log("Android");break;case"ios":console.log("iOS");break;default:console.log("小程序"),j.value=!1}t({success:e=>{I.value=e.windowHeight-o(160)}})})),n((()=>{console.log("onMounted生命周期")}));let E=()=>{""!=q.value&&0!=U.value&&(V.push({isSelf:!1,text:q.value,image:"../../static/ymw.png"}),U.value=!1,C.value=!0,A({url:"https://api.openai.com/v1/completions",method:"POST",header:{Authorization:"Bearer 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"},data:{model:"text-davinci-003",max_tokens:512,top_p:1,temperature:.5,frequency_penalty:0,presence_penalty:0,prompt:q.value},success:e=>{V.push({isSelf:!0,text:e.data.choices[0].text,image:"../../static/sgzn.png"})},fail:e=>{V.push({isSelf:!0,text:"网络繁忙，请稍后再尝试...",image:"../../static/sgzn.png"})},complete(){U.value=!0,C.value=!1}}))};return(e,s)=>{const a=b,l=y,t=r,o=k,n=w;return c(),i(t,{class:"container"},{default:u((()=>[d(t,{class:x(["main-box",p(j)?"top44":""])},{default:u((()=>[d(o,{"scroll-y":"true","scroll-info-view":p(B)},{default:u((()=>[(c(!0),f(g,null,m(p(V),((e,s)=>(c(),i(t,{key:s,class:"list-item",id:"id-"+s,style:S(e.isSelf?"":"flex-direction: row-reverse;")},{default:u((()=>[d(a,{src:e.image,mode:""},null,8,["src"]),d(l,null,{default:u((()=>[v(z(e.text),1)])),_:2},1024)])),_:2},1032,["id","style"])))),128)),p(C)?(c(),i(t,{key:0,class:"list-item"},{default:u((()=>[d(a,{src:"/assets/sgzn.cbbf5dae.png",mode:""}),d(l,null,{default:u((()=>[v("正在输入...")])),_:1})])),_:1})):_("",!0)])),_:1},8,["scroll-info-view"])])),_:1},8,["class"]),d(t,{class:"bottom-box"},{default:u((()=>[d(n,{class:"uni-input","confirm-type":"search",modelValue:p(q),"onUpdate:modelValue":s[0]||(s[0]=e=>h(q)?q.value=e:q=e),placeholder:"请输入内容","cursor-spacing":"15"},null,8,["modelValue"]),""!==p(q)?(c(),i(t,{key:0,class:"mini-btn",type:"",onClick:p(E)},{default:u((()=>[v(" 发送 ")])),_:1},8,["onClick"])):_("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-13c8e300"]]);export{O as default};
